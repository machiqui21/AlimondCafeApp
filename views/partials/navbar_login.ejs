<link rel="stylesheet" href="/navbar.css">
<nav class="navbar navbar-expand-sm bg-light">
   <div class="container-fluid">
      <ul class="navbar-nav">
         <li class="nav-item">
          <a class="nav-link" href="/">Homepage</a>
         </li>
         <li class="nav-item">
            <a class="nav-link" href="/menu">Menu</a>
         </li>
         <li class="nav-item">
            <% if ((typeof user !== 'undefined' && user) || (typeof adminUser !== 'undefined' && adminUser)) { %>
                <a class="nav-link" href="/orderSummary">View My Orders</a>
            <% } %>
         </li>
      </ul>
      <ul class="navbar-nav ms-auto">
         <% if (typeof user !== 'undefined' && user) { %>
         <li class="nav-item">
            <span class="nav-link user-badge">ğŸ‘¤ <%= user.Username %></span>
         </li>
         <li class="nav-item">
            <a class="nav-link logout-link" href="/logout">Logout</a>
         </li>
         <% } else if (typeof adminUser !== 'undefined' && adminUser) { %>
         <li class="nav-item">
            <span class="nav-link admin-badge">ğŸ” <%= adminUser.Username %></span>
         </li>
         <li class="nav-item">
            <a class="nav-link logout-link" href="/logout">Logout</a>
         </li>
         <% } else { %>
         <li class="nav-item">
            <% 
            // Show Register link on login page, Login link on register page
            var path = typeof currentPath !== 'undefined' ? currentPath : '';
            var isLoginPage = path.includes('/login');
            var isRegisterPage = path.includes('/register');
            %>
            <% if (isLoginPage) { %>
               <a class="nav-link register-link" href="/register">Register</a>
            <% } else if (isRegisterPage) { %>
               <a class="nav-link login-link" href="/login">Login</a>
            <% } else { %>
               <a class="nav-link login-link" href="/login">Login</a>
            <% } %>
         </li>
         <% } %>
      </ul>
   </div>
</nav>